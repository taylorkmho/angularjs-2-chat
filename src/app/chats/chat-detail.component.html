<div *ngIf="chatDetail" class="chat-detail">
  <ul #scrollMe class="chat-detail__thread">
    <li class="message" *ngFor="let message of chatDetail.messageThread | myReverse; let messageIndex = index">
      <aside class="message__avatar" [ngStyle]="{'background-image': 'url(/img/avatar/' + message.authorID + '.jpg)'}"></aside>
      <main>
        <p class="message__text">{{message.text}}</p>
        <div *ngFor="let entry of users | myKeys">
          <div *ngIf="message.authorID === entry.value.id">
            <span class="message__name">{{entry.value.name}}</span>
            <span class="message__time">{{message.sentAt | amDateFormat:'M/D h:mmA'}}</span>
          </div>
        </div>
      </main>
    </li>
  </ul>
  <div class="chat-detail__form">
    <my-chat-detail-form (onSubmit)="addTextMessage($event)"></my-chat-detail-form>
  </div>
</div>
